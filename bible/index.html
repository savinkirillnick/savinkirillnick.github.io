<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="description" content="–ë–∏–±–ª–∏—è.">
    <meta name="keywords" content="–±–∏–±–ª–∏—è, javascript">
    <meta name="author" content="Kirill Savin">
    <meta property="og:title" content="–ë–∏–±–ª–∏—è." />
    <meta property="og:description" content="–ë–∏–±–ª–∏—è." />
    <meta property="og:image" content="https://savinkirillnick.github.io/bible/logo.jpg" />
    <meta property="og:url" content="https://savinkirillnick.github.io/bible/" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="–ë–∏–±–ª–∏—è." />
    <meta name="twitter:description" content="–ë–∏–±–ª–∏—è." />
    <meta name="twitter:image" content="https://savinkirillnick.github.io/bible/logo.jpg" />
    <link rel="icon" type="image/png" href="https://savinkirillnick.github.io/bible/logo.jpg">
    <title>–ë–∏–±–ª–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #fafafa;
            color: #333;
            text-align: center;
        }
        p {
            text-indent: 30px;
            padding: 0 5px;
            line-height: 1.4;
            margin: 0;
        }
        i {
            color: #666;
        }
        .screen {
            position: relative;
            max-width: 600px;
            left: 50%;
            transform: translate(-50%, 0%);
        }
        .num {
            font-size: 0.6em;
            color: #666;
            vertical-align: text-top;
        }
        .content {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: left;
        }
        .controls button {
            margin: 5px;
            padding: 3vw;
            background: transparent;
            border: 0;
            font-size: min(20pt, 5vw);
            cursor: pointer;
            transition: all 0.3s ease-in-out;
        }
        .menu {
            display: none;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .chapters {
            display: none;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            min-height: 50px;
            position: absolute;
            top: calc(6vw + 10px + min(20pt, 5vw));
            left: 50%;
            transform: translate(-50%, 0%);
        }
        .menu-item {
            text-align: left;
            padding: 5px;
            margin: 0;
        }
        .chapters-item {
            text-align: center;
            padding: 5px;
            margin: 0;
        }
        .link {
            color: #06d;
            cursor: pointer;
        }
        .gray {
            color: #666;
        }
        @media (orientation: landscape) {
            .chapters {
                grid-template-columns: repeat(10, 1fr);
            }
        }
        @media (orientation: portrait) {
            .chapters {
                grid-template-columns: repeat(5, 1fr);
            }
        }
        @media (width <= 480px) {
            body {
                font-size: 3vw;
            }
            p {
                padding: 0 1vw;
            }
            .content {
                margin: 3vw auto;
                padding: 3vw;
            }
        }
    </style>
    <script src="main.js"></script>
</head>
<body>

<div class="screen">
    <div class="controls top-controls">
        <button onclick="previousChapter()">‚óÄÔ∏è</button>
        <button onclick="showBookMenu()">üìï</button>
        <button onclick="showChapterMenu()">üìÉ</button>
        <!-- <button onclick="showTranslateMenu()">‚öôÔ∏è</button> -->
        <button onclick="nextChapter()">‚ñ∂Ô∏è</button>
    </div>
    <div class="content" id="content"></div>
    <div class="content menu" id="books-menu"></div>
    <div class="content chapters" id="chapters-menu"></div>
    <div class="controls bottom-controls">
        <button onclick="previousChapter(); window.scrollTo(0, 0);">‚óÄÔ∏è</button>
        <button onclick="window.scrollTo(0, 0);">‚¨ÜÔ∏è</button>
        <button onclick="nextChapter(); window.scrollTo(0, 0);">‚ñ∂Ô∏è</button>
    </div>
    <div class="content">
    <center>–ë–∏–±–ª–∏—è 2025<br>–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –ø–∏—à–∏—Ç–µ –∏—Ö –≤ —Ç–µ–ª–µ–≥—Ä–∞–º <a href="https://t.me/savinkirillnick">@savinkirillnick</a></center>
    </div>
</div>
<script type="text/javascript">

//–°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥
const lib = [
{ name: '–í–µ—Ç—Ö–∏–π –ó–∞–≤–µ—Ç',
groups: [
{ name: '–ü—è—Ç–∏–∫–Ω–∏–∂–∏–µ –ú–æ–∏—Å–µ–µ–≤–æ',
books: [
{ title: '–ë—ã—Ç–∏–µ', link: 'byt'},
{ title: '–ò—Å—Ö–æ–¥', link: 'ish'},
{ title: '–õ–µ–≤–∏—Ç', link: 'lev'},
{ title: '–ß–∏—Å–ª–∞', link: 'chis'},
{ title: '–í—Ç–æ—Ä–æ–∑–∞–∫–æ–Ω–∏–µ', link: 'vtor'},
]},
{name: '–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ',
books: [
{ title: '–ò–∏—Å—É—Å–∞ –ù–∞–≤–∏–Ω–∞', link: 'nav'},
{ title: '–°—É–¥–µ–π –ò–∑—Ä–∞–∏–ª–µ–≤—ã—Ö', link: 'sud'},
{ title: '–†—É—Ñ—å', link: 'ruf'},
{ title: '1-—è –¶–∞—Ä—Å—Ç–≤', link: 'tsar1'},
{ title: '2-—è –¶–∞—Ä—Å—Ç–≤', link: 'tsar2'},
{ title: '3-—è –¶–∞—Ä—Å—Ç–≤', link: 'tsar3'},
{ title: '4-—è –¶–∞—Ä—Å—Ç–≤', link: 'tsar4'},
{ title: '1-—è –ü–∞—Ä–∞–ª–∏–ø–æ–º–µ–Ω–æ–Ω', link: 'par1'},
{ title: '2-—è –ü–∞—Ä–∞–ª–∏–ø–æ–º–µ–Ω–æ–Ω', link: 'par2'},
{ title: '1-—è –ï–∑–¥—Ä—ã', link: 'ezdr1'},
{ title: '2-—è –ï–∑–¥—Ä—ã', link: 'ezdr2'},
{ title: '–ù–µ–µ–º–∏–∏', link: 'neem'},
{ title: '–¢–æ–≤–∏—Ç', link: 'tov'},
{ title: '–ò—É–¥–∏—Ñ—å', link: 'iudif'},
{ title: '–ï—Å—Ñ–∏—Ä—å', link: 'esf'},
{ title: '1-—è –ú–∞–∫–∫–∞–≤–µ–π—Å–∫–∞—è', link: 'mak1'},
{ title: '2-—è –ú–∞–∫–∫–∞–≤–µ–π—Å–∫–∞—è', link: 'mak2'},
{ title: '3-—è –ú–∞–∫–∫–∞–≤–µ–π—Å–∫–∞—è', link: 'mak3'},
]},
{name: '–£—á–∏—Ç–µ–ª—å—Å–∫–∏–µ',
books: [
{ title: '–ò–æ–≤–∞', link: 'iov'},
{ title: '–ü—Å–∞–ª—Ç–∏—Ä—å', link: 'ps'},
{ title: '–ü—Ä–∏—Ç—á–µ–π –°–æ–ª–æ–º–æ–Ω–æ–≤—ã—Ö', link: 'prit'},
{ title: '–ï–∫–∫–ª–µ–∑–∏–∞—Å—Ç–∞', link: 'ekkl'},
{ title: '–ü–µ—Å–Ω–∏ –ü–µ—Å–Ω–µ–π –°–æ–ª–æ–º–æ–Ω–∞', link: 'pesn'},
{ title: '–ü—Ä–µ–º—É–¥—Ä–æ—Å—Ç–∏ –°–æ–ª–æ–º–æ–Ω–∞', link: 'prem'},
{ title: '–ü—Ä–µ–º—É–¥—Ä–æ—Å—Ç–∏ –ò–∏—Å—É—Å–∞, —Å—ã–Ω–∞ –°–∏—Ä–∞—Ö–æ–≤–∞', link: 'sir'},
]},
{name: '–ü—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ',
books: [
{ title: '–ò—Å–∞–∏–∏', link: 'isa'},
{ title: '–ò–µ—Ä–µ–º–∏–∏', link: 'ier'},
{ title: '–ü–ª–∞—á –ò–µ—Ä–µ–º–∏–∏', link: 'plch'},
{ title: '–ü–æ—Å–ª–∞–Ω–∏–µ –ò–µ—Ä–µ–º–∏–∏', link: 'posi'},
{ title: '–í–∞—Ä—É—Ö–∞', link: 'varh'},
{ title: '–ò–µ–∑–µ–∫–∏–∏–ª—è', link: 'iez'},
{ title: '–î–∞–Ω–∏–∏–ª–∞', link: 'dan'},
{ title: '–û—Å–∏–∏', link: 'os'},
{ title: '–ò–æ–∏–ª—è', link: 'ioil'},
{ title: '–ê–º–æ—Å–∞', link: 'am'},
{ title: '–ê–≤–¥–∏—è', link: 'avd'},
{ title: '–ò–æ–Ω—ã', link: 'ion'},
{ title: '–ú–∏—Ö–µ—è', link: 'mih'},
{ title: '–ù–∞—É–º–∞', link: 'naum'},
{ title: '–ê–≤–≤–∞–∫—É–º–∞', link: 'avv'},
{ title: '–°–æ—Ñ–æ–Ω–∏–∏', link: 'sof'},
{ title: '–ê–≥–≥–µ—è', link: 'ag'},
{ title: '–ó–∞—Ö–∞—Ä–∏', link: 'zah'},
{ title: '–ú–∞–ª–∞—Ö–∏–∏', link: 'mal'},
{ title: '3-—è –ï–∑–¥—Ä—ã', link: 'ezdr3'},
]},
]},
{ name: '–ù–æ–≤—ã–π –ó–∞–≤–µ—Ç',
groups: [
{ name: '–ï–≤–∞–Ω–≥–µ–ª–∏–µ',
books: [
{ title: '–û—Ç –ú–∞—Ç—Ñ–µ—è', link: 'mf'},
{ title: '–û—Ç –ú–∞—Ä–∫–∞', link: 'mk'},
{ title: '–û—Ç –õ—É–∫–∏', link: 'lk'},
{ title: '–û—Ç –ò–æ–∞–Ω–Ω–∞', link: 'ion'},
]},
{name: '–î–µ—è–Ω–∏—è',
books: [
{ title: '–î–µ—è–Ω–∏—è —Å–≤—è—Ç—ã—Ö –ê–ø–æ—Å—Ç–æ–ª–æ–≤', link: 'dean'},
]},
{name: '–°–æ–±–æ—Ä–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è',
books: [
{ title: '–ò–∞–∫–æ–≤–∞', link: 'iak'},
{ title: '1-–µ –ü–µ—Ç—Ä–∞', link: 'pet1'},
{ title: '2-–µ –ü–µ—Ç—Ä–∞', link: 'pet2'},
{ title: '1-–µ –ò–æ–∞–Ω–Ω–∞', link: 'ion1'},
{ title: '2-–µ –ò–æ–∞–Ω–Ω–∞', link: 'ion2'},
{ title: '3-–µ –ò–æ–∞–Ω–Ω–∞', link: 'ion3'},
{ title: '–ò—É–¥—ã', link: 'iud'},
]},
{name: '–ü–æ—Å–ª–∞–Ω–∏—è —Å–≤. –ê–ø–æ—Å—Ç–æ–ª–∞ –ü–µ—Ç—Ä–∞',
books: [
{ title: '–ö —Ä–∏–º–ª—è–Ω–∞–º', link: 'rim'},
{ title: '–ö –∫–æ—Ä–∏–Ω—Ñ—è–Ω–∞–º 1-–µ', link: 'kor1'},
{ title: '–ö –∫–æ—Ä–∏–Ω—Ñ—è–Ω–∞–º 2-–µ', link: 'kor2'},
{ title: '–ö –≥–∞–ª–∞—Ç–∞–º', link: 'gal'},
{ title: '–ö –µ—Ñ–µ—Å—è–Ω–∞–º', link: 'ef'},
{ title: '–ö —Ñ–∏–ª–∏–ø–ø–∏–π—Ü–∞–º', link: 'flp'},
{ title: '–ö –∫–æ–ª–æ—Å—Å—è–Ω–∞–º', link: 'kol'},
{ title: '–ö —Ñ–µ—Å—Å–∞–ª–æ–Ω–∏–∫–∏–π—Ü–∞–º 1-–µ', link: 'fes1'},
{ title: '–ö —Ñ–µ—Å—Å–∞–ª–æ–Ω–∏–∫–∏–π—Ü–∞–º 2-–µ', link: 'fes2'},
{ title: '–ö –¢–∏–º–æ—Ñ–µ—é 1-–µ', link: 'tim1'},
{ title: '–ö –¢–∏–º–æ—Ñ–µ—é 2-–µ', link: 'tim2'},
{ title: '–ö –¢–∏—Ç—É', link: 'tit'},
{ title: '–ö –§–∏–ª–∏–º–æ–Ω—É', link: 'flm'},
{ title: '–ö –µ–≤—Ä–µ—è–º', link: 'evr'},
]},
{name: '–ü—Ä–æ—Ä–æ—á–µ—Å–∫–∞—è',
books: [
{ title: '–û—Ç–∫—Ä–æ–≤–µ–Ω–∏–µ –ò–æ–∞–Ω–Ω–∞ –ë–æ–≥–æ—Å–ª–æ–≤–∞ (–ê–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å)', link: 'otkr'},
]},
]},
];

function showBookMenu() {
    document.getElementById('chapters-menu').style.display = "none";
    if (document.getElementById('content').style.display === "none") {
        document.getElementById('content').style.display = "block";
        document.getElementById('books-menu').style.display = "none";
    } else {
        document.getElementById('content').style.display = "none";
        document.getElementById('books-menu').style.display = "grid";
    }
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–Ω—é
function generateBooksMenu(lib) {
    let html = '';
    
    lib.forEach(section => {
        html += '<div>';
        
        // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞
        html += `<div class="menu-item"><b>${section.name}</b></div>`;
        
        // –ì—Ä—É–ø–ø—ã –∫–Ω–∏–≥
        section.groups.forEach(group => {
            // –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
            html += `<div class="menu-item gray">${group.name}</div>`;
            
            // –ö–Ω–∏–≥–∏ –≤ –≥—Ä—É–ø–ø–µ
            group.books.forEach(book => {
                html += `<div class="menu-item link" onclick="changeBook('${book.link}')">${book.title}</div>`;
            });
        });
        
        html += '</div>';
    });
    
    return html;
}

document.getElementById('books-menu').innerHTML = generateBooksMenu(lib);

async function showChapterMenu() {
    document.getElementById('content').style.display = "block";
    document.getElementById('books-menu').style.display = "none";
    const chapters = await bible.getChaptersList();
    document.getElementById('chapters-menu').innerHTML = generateChaptersMenu(chapters);
    if (document.getElementById('chapters-menu').style.display === "none") {
        document.getElementById('chapters-menu').style.display = "grid";
    } else {
        document.getElementById('chapters-menu').style.display = "none";
    }
}

function generateChaptersMenu(chapters) {
    let html = '';
    chapters.forEach(item => {
        html += `<div class="chapters-item link" onclick="changeChapter('${item.index}')">${item.number}</div>`;
    });
    return html;
}
  
// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–Ω–∏–≥–∏
const bible = new Book();

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å async/await
async function displayChapter() {
  try {
    const text = await bible.showText();
    document.getElementById('content').innerHTML = text;
    
    // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–Ω–∏–≥–µ
    const info = bible.getBookInfo();
    console.log('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ:', info);
    
    // –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≥–ª–∞–≤
    const chapters = await bible.getChaptersList();
    console.log('–î–æ—Å—Ç—É–ø–Ω—ã–µ –≥–ª–∞–≤—ã:', chapters);
    
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞:', error);
  }
}

// –°–º–µ–Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
async function changeTranslation(newTranslation) {
  const text = await bible.showText(newTranslation, bible.book, bible.chapter);
  document.getElementById('content').innerHTML = text;
}

// –°–º–µ–Ω–∞ –∫–Ω–∏–≥–∏
async function changeBook(newBook) {
    
    document.getElementById('content').style.display = "block";
    document.getElementById('books-menu').style.display = "none";
  const text = await bible.showText(bible.translate, newBook, 0);
  document.getElementById('content').innerHTML = text;
}

// –°–º–µ–Ω–∞ –≥–ª–∞–≤—ã
async function changeChapter(newChapter) {
  document.getElementById('chapters-menu').style.display = "none";
  const text = await bible.showText(bible.translate, bible.book, newChapter);
  document.getElementById('content').innerHTML = text;
}

// –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≥–ª–∞–≤–∞–º
async function nextChapter() {
  const text = await bible.nextChapter();
  if (text) {
    document.getElementById('content').innerHTML = text;
  }
}

async function previousChapter() {
  const text = await bible.previousChapter();
  if (text) {
    document.getElementById('content').innerHTML = text;
  }
}

function mark(book, chapter, verse, item) {
  bible.mark(book, chapter, verse, item);
}

displayChapter();
</script>
</body>
</html>
